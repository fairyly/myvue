# 3.2.8 移动端input focus 无法弹出键盘

>场景：首页点击搜索，跳转搜索页，需要自动聚焦输入框，弹出键盘

>autofoucus 是 input 原生属性，iOS 系统禁止页面输入框自动聚焦，只能在点击事件后触发 focus

## 使用方法

```
setTimeout(() => {
  this.$refs?.input?.focus()
  document.getElementsByClassName('van-field__control')[0].focus()
}, 2000)

# 指令
<input v-focus ref="input" type="search" maxlength="50" v-model.trim="searchVal" placeholder="搜索套餐/机构/体检项目" class="van-field__control">
               
directives: {
    // 注册一个局部的自定义指令 v-focus
    focus: {
      inserted: function (el) {
        el.focus()
      }
    }
  },
```

## 出现问题

```
1.通过js执行focus()，Android下只聚焦，出现光标，无软键盘出现；ios下无任何表现。（失败）

2.增加autofocus属性，效果与1相同。

3.将代码放入延迟函数setTimeout 中执行，效果还是无法出现。
```


## 解决方法

```
# 动创建标签，点击，无效

利用trigge()方法，对要获得焦点的input框，调用一次”click”事件

$("input").trigger("click").focus();

依旧不行
```

>H5中不支持在用户不主动操作情况自动聚焦弹出键盘
>小程序可以
